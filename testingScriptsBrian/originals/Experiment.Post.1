#!/usr/bin/env python3.4
# -*- coding: latin-1 -*-

'''POST an object on an ENCODE server'''
 
import sys, requests, json
 


HEADERS = {'content-type': 'application/json', 'accept': 'application/json'}
 

AUTHID = "HEHTIAYI"      
AUTHPW = "c6kzslpmkhszt3lp"
 
URL = "REPLACEME/experiments/"


new_experiment = {
        "description": "POST example experiment",
        "assay_term_name": "ChIP-seq",
        "biosample_term_name": "Stromal cell of bone marrow",
        "target": "/targets/SMAD6-human/",
        "award": "/awards/U41HG006992/",
        "lab": "/labs/thomas-gingeras/",
        "references": [
             "PMID:18229687",
             "PMID:25677182"
            ]
}

json_payload = json.dumps(new_experiment)
 
response = requests.post(URL, auth=(AUTHID, AUTHPW), headers=HEADERS, data=json_payload)
 
print (json.dumps(response.json(), indent=4, separators=(',', ': ')))
